<%= form_for(@employee, :html => { :multipart => true } )  do |f| %>
  <% if @employee.errors.any? %>
    <div id="error_explanation">
      <h2><%= pluralize(@employee.errors.count, "error") %> prohibited this employee from being saved:</h2>

      <ul>
      <% @employee.errors.full_messages.each do |msg| %>
        <li><%= msg %></li>
      <% end %>
      </ul>
    </div>
  <% end %>
<table class="pretty">
  <tr>
    <td>
      <div id="emp_image">
        <%= image_tag @employee.avatar.url(:medium) %>
      </div>
    </td>
  </tr>
  <tr>
    <td>
      <div class="field">
        <%= f.label :title %><br />
        <%= f.text_field :title %>
      </div>
    </td>
    <td>
      <div class="field">
        <%= f.label :first_name %><br />
        <%= f.text_field :first_name %>
      </div>
    </td>
    <td>
      <div class="field">
        <%= f.label :last_name %><br />
        <%= f.text_field :last_name %>
      </div>
     </td>
     <td> 
      <div class="field">
        <%= f.label :dob %><br />
        <%= f.date_select :dob, :start_year => Time.now.year, :end_year => 1940, :include_blank => true %>
      </div>
    </td>
  </tr>
  <tr>
      <td>
        <div class="field">
          <%= f.label :passport_number %><br />
          <%= f.text_field :passport_number %>
        </div>
      </td>
      <td>
        <div class="field">
          <%= f.label :passport_issue_date %><br />
          <%= f.date_select :passport_issue_date, :start_year => Time.now.year, :end_year => Time.now.year - 20, :include_blank => true%>
        </div>
      </td>
      <td>
      <div class="field">
        <%= f.label :passport_expiry_date %><br />
        <%= f.date_select :passport_expiry_date , :start_year => Time.now.year , :end_year => Time.now.year + 20, :include_blank => true%>
      </div>
    </td>
    <td>
      <div class="field">
        <%= f.label :passport_issue_country %><br />
        <%= f.country_select :passport_issue_country %>
      </div>
    </td>
  </tr>
  <tr>
    <td>
      <div class="field">
        <%= f.label :email %><br />
        <%= f.text_field :email %>
      </div>
    </td>
    <td>
      <div class="field">
        <%= f.label :mobile %><br />
        <%= f.text_field :mobile %>
      </div>
    </td>
    <td>
      <div class="field">
        <%= f.label :home_phone %><br />
        <%= f.text_field :home_phone %>
      </div>
    </td>
    <td>
      <div class="field">
        <%= f.label :office_phone %><br />
        <%= f.text_field :office_phone %>
      </div>
    </td>
  </tr>
  <tr>
    <td>
      <div class="field">
        <%= f.label :gender %><br />
        <%= f.select :gender ,[['Male','Male'],['Female','Female']]%>
      </div>
    </td>
    <td>
      <div class="field">
        <%= f.label :nationality %><br />
        <%= f.country_select :nationality %>
      </div>
    </td>
    <td>
      <div class="field">
        <%= f.label :address %><br />
        <%= f.text_field :address %>
      </div>
    </td>

      <td>
      <div class="field">
        <%= f.label :zip %><br />
        <%= f.text_field :zip %>
      </div>
    </td>
  </tr>  
<tr>
    <td>
      <div class="field">
        <%= f.label :country %><br />
        <%= f.country_select :country %>
      </div>
    </td>
    <td>
      <div class="field">
        <%= f.label :MyIDTravel_Number %><br />
        <%= f.text_field :external_id %>
      </div>
    </td>
    <td>
      <div class="field">
        <%= f.label :airline_id %><br />
        <%= f.select :airline_id , Airline.all.collect {|p| [ p.code, p.id ] },
            { :include_blank => true } %>            
      </div>
    </td>
      <td>
      <div class="field">
        <%= f.label :role_name %><br />
        <%= f.autocomplete_field :role_name, autocomplete_role_code_employees_path %>
      </div>
    </td>
  </tr>
  <tr>
    <td>
        <div id="related_employee" class="field">
          <%= f.label :related_employee %><br />
          <div id="related_employee_name">
          <%= render :partial => 'employee' , :locals => { :employee => @employee }  %>
          </div>      
        </div>
    </td>
    <td>
      <div class="field">
        <%= f.label :relation_id %><br />
        <%= f.select :relation_id, Relation.all.collect { |p| [p.name, p.id] } %>
      </div>
    </td>
    <td>  
      <div class="field">
        <%= f.label :employment_number %><br />
        <%= f.text_field :employment_number%>
      </div>
    </td>
    <td>  
      <div class="field">
        <%= f.label :employment_date %><br />
        <%= f.date_select :employment_date, :start_year => 2000 , :end_year => Time.now.year , :include_blank => true %>
      </div>
    </td> 
  </tr>
  <tr>  
    <td>  
      <div class="field">
        <%= f.label :card_number %><br />
        <%= f.text_field :card_number%>
      </div>
    </td>
    <td>  
      <div class="field">
        <%= f.label :card_expiry %><br />
        <%= f.date_select :card_expiry_date, :start_year => Time.now.year , :end_year => Time.now.year + 20, :include_blank => true %>
      </div>
    </td>             
    <td>
      <div class="field">
        <%= f.label :upload_picture %><br />
        <%= f.file_field :avatar %> 
      </div>
    </td>
  </tr>
</table>
  <div class="actions">
    <%= link_to "Back", employees_path %>    
    <%= f.submit %>
  </div>

<% end %>
